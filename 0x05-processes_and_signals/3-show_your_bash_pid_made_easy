#!/usr/bin/env bash

# Bash script that displays the PID, along with the process name, of processes whose name contains the word "bash"
script_pid=$$

# Get PIDs and process names of processes containing the word "bash"
while read -r pid cmd; do
    echo "$pid $cmd"
done < <(grep -e '\bbash\b' /proc/*/cmdline 2>/dev/null) | awk -v script_pid="$script_pid" '$2 ~ /bash/ && $1 != script_pid'
